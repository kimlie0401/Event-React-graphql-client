(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{33:function(e,t,n){e.exports=n(61)},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(23),i=n.n(o),l=(n(38),n(5)),c=n(6),u=n(8),s=n(7),d=n(9),m=n(15),f=n(12),p=(n(39),a.a.createContext({token:null,userId:null,login:function(e,t,n){},logout:function(){}})),h=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={isLogin:!0},n.switchModeHandler=function(){n.setState((function(e){return{isLogin:!e.isLogin}}))},n.submitHandler=function(e){if(e.preventDefault(),n.state.isLogin){var t=n.emailEl.current.value,r=n.passwordEl.current.value;if(0===t.trim().length||0===r.trim().length)return;var a={query:"\n        query LoginUser($email: String!, $password:String!){\n          login(email: $email, password: $password) {\n            userId\n            token\n            tokenExpiration\n          }\n        }\n      ",variables:{email:t,password:r}};fetch("https://event-graphql-mongoose.herokuapp.com/",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){e.data.login.token&&n.context.login(e.data.login.token,e.data.login.userId,e.data.login.tokenExpiration)})).catch((function(e){console.log(e)}))}else{var o=n.emailEl.current.value,i=n.passwordEl.current.value;if(0===o.trim().length||0===i.trim().length)return;var l={query:"\n          mutation CreateUser($email: String!, $password: String!){\n            createUser(userInput: {email: $email, password: $password}) {\n              _id\n              email\n            }\n          }\n        ",variables:{email:o,password:i}};fetch("https://event-graphql-mongoose.herokuapp.com/",{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json"}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){e&&(console.log(e),alert("Created"),n.setState({isLogin:!0}))})).catch((function(e){console.log(e)}))}},n.emailEl=a.a.createRef(),n.passwordEl=a.a.createRef(),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return a.a.createElement(r.Fragment,null,a.a.createElement("h1",{className:"title"},this.state.isLogin?"Login":"Signup"),a.a.createElement("form",{className:"auth-form",onSubmit:this.submitHandler},a.a.createElement("div",{className:"form-control"},a.a.createElement("label",{htmlFor:"email"},this.state.isLogin?"E-Mail":"Type your E-Mail"),a.a.createElement("input",{type:"email",id:"email",ref:this.emailEl})),a.a.createElement("div",{className:"form-control"},a.a.createElement("label",{htmlFor:"password"},this.state.isLogin?"Password":"Create Password"),a.a.createElement("input",{type:"password",id:"password",ref:this.passwordEl})),a.a.createElement("div",{className:"form-actions"},a.a.createElement("button",{type:"submit"},"Submit"),a.a.createElement("button",{type:"button",onClick:this.switchModeHandler},"Switch to ",this.state.isLogin?"Signup":"Login"))))}}]),t}(r.Component);h.contextType=p;var g=h,v=n(2),b=n(1);n(40);function E(){var e=Object(v.a)(["\n  height: 70vh;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 5px;\n  margin-top: 20px;\n"]);return E=function(){return e},e}var y=b.default.div(E()),k=function(){return a.a.createElement(y,null,a.a.createElement("div",{className:"lds-roller"},a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null)))};function x(){var e=Object(v.a)(["\n  margin: 0.5rem 0;\n  padding: 0.5rem;\n  border: 1px solid rgba(46, 44, 44, 0.8);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]);return x=function(){return e},e}function O(){var e=Object(v.a)(["\n  background-color: rgba(46, 44, 44, 0.8);\n  font: inherit;\n  border: 1px solid rgba(46, 44, 44, 0.8);\n  border-radius: 3px;\n  padding: 0.25rem 1rem;\n  margin-right: 1rem;\n  box-shadow: 0px 1px 5px 2px rgba(0, 0, 0, 0.8);\n  color: white;\n  cursor: pointer;\n  &:hover,\n  &:active {\n    background-color: gray;\n    border-color: gray;\n  }\n"]);return O=function(){return e},e}function j(){var e=Object(v.a)(["\n  width: 40rem;\n  max-width: 90%;\n  margin: 2rem auto;\n  list-style: none;\n  padding: 0;\n"]);return j=function(){return e},e}var w=b.default.ul(j()),S=b.default.button(O()),C=b.default.li(x()),D=function(e){return a.a.createElement(w,null,e.bookings.map((function(t){return a.a.createElement(C,{key:t._id},a.a.createElement("div",null,t.event.title," -"," ",new Date(t.createdAt).toLocaleDateString()),a.a.createElement("div",null,a.a.createElement(S,{onClick:function(){return e.onDelete(t._id)}},"Cancel")))})))},I=n(18),T=n(29);function F(){var e=Object(v.a)(["\n  text-align: center;\n  margin-top: 3rem;\n"]);return F=function(){return e},e}var _=b.default.div(F()),$={Cheap:{min:0,max:100},Normal:{min:100,max:200},Expensive:{min:200,max:1e8}},q=function(e){var t={labels:[],datasets:[]},n=[],r=function(r){var a=e.bookings.reduce((function(e,t){return t.event.price>$[r].min&&t.event.price<=$[r].max?e+1:e}),0);n.push(a),t.labels.push(r),t.datasets.push({fillColor:"rgba(220,220,220,0.5)",strokeColor:"rgba(220,220,220,0.8)",highlightFill:"rgba(220,220,220,0.75)",highlightStroke:"rgba(220,220,220,1)",data:n}),(n=Object(I.a)(n))[n.length-1]=0};for(var o in $)r(o);return a.a.createElement(_,null,a.a.createElement(T.Bar,{data:t}))};function N(){var e=Object(v.a)(["\n  font: inherit;\n  font-size: 1.5rem;\n  border: none;\n  background: transparent;\n  color: white;\n  padding: 0.25rem 3rem;\n  cursor: pointer;\n  border-bottom: 2px solid ",";\n  transition: border-bottom 0.5s ease-in-out;\n  &:focus {\n    outline: none;\n  }\n"]);return N=function(){return e},e}function H(){var e=Object(v.a)(["\n  text-align: center;\n  padding: 0.5rem;\n"]);return H=function(){return e},e}var A=b.default.div(H()),R=b.default.button(N(),(function(e){return e.current?"gray":"transparent"})),L=function(e){return a.a.createElement(A,null,a.a.createElement(R,{current:"list"===e.activeOutputType,onClick:function(){e.onControl("list")}},"List"),a.a.createElement(R,{current:"chart"===e.activeOutputType,onClick:function(){e.onControl("chart")}},"Chart"))},z=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).state={loading:!0,bookings:[],outputType:"list"},n.fetchBookings=function(){var e=n.context.token;fetch("https://event-graphql-mongoose.herokuapp.com/",{method:"POST",body:JSON.stringify({query:"\n        query {\n          bookings {\n            _id\n            createdAt\n            event{\n              _id\n              title\n              date \n              price\n            }\n          }\n        }\n      "}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){var t=e.data.bookings;n.setState({bookings:t,loading:!1})})).catch((function(e){console.log(e),n.setState({loading:!1})}))},n.deleteBookingHandler=function(e){if(window.confirm("Are you sure to cancel?!")){var t={query:"\n          mutation CancelBooking($id: ID!){\n            cancelBooking(bookingId: $id) {\n              _id\n              title\n              }\n            }\n        ",variables:{id:e}},r=n.context.token;fetch("https://event-graphql-mongoose.herokuapp.com/",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){n.setState((function(t){return{bookings:t.bookings.filter((function(t){return t._id!==e})),loading:!1}}))})).catch((function(e){console.log(e),n.setState({loading:!1})}))}},n.changeOutputTypeHandler=function(e){"list"===e?n.setState({outputType:"list"}):n.setState({outputType:"chart"})},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.fetchBookings()}},{key:"render",value:function(){var e=a.a.createElement(k,null);return this.state.loading||(e=a.a.createElement(r.Fragment,null,a.a.createElement(L,{activeOutputType:this.state.outputType,onControl:this.changeOutputTypeHandler}),a.a.createElement("div",null,"list"===this.state.outputType?a.a.createElement(D,{bookings:this.state.bookings,onDelete:this.deleteBookingHandler}):a.a.createElement(q,{bookings:this.state.bookings})))),a.a.createElement(r.Fragment,null,e)}}]),t}(r.Component);z.contextType=p;var B=z;function P(){var e=Object(v.a)(["\n  background-color: rgba(46, 44, 44, 0.8);\n  font: inherit;\n  border: 1px solid rgba(46, 44, 44, 0.8);\n  border-radius: 3px;\n  padding: 0.25rem 1rem;\n  margin: 0.5rem;\n  box-shadow: 0px 1px 5px 2px rgba(0, 0, 0, 0.8);\n  color: white;\n  cursor: pointer;\n  &:hover,\n  &:active {\n    background-color: gray;\n    border-color: gray;\n  }\n"]);return P=function(){return e},e}function J(){var e=Object(v.a)(["\n  display: flex;\n  justify-content: flex-end;\n"]);return J=function(){return e},e}function U(){var e=Object(v.a)(["\n  padding: 1rem;\n"]);return U=function(){return e},e}function M(){var e=Object(v.a)(["\n  margin: 0;\n  font-size: 1.25rem;\n"]);return M=function(){return e},e}function V(){var e=Object(v.a)(["\n  padding: 0.5rem;\n  background-color: rgba(46, 44, 44, 1);\n"]);return V=function(){return e},e}function G(){var e=Object(v.a)(["\n  width: 60%;\n  background-color: rgba(20, 20, 20, 1);\n  box-shadow: 0px 1px 5px 2px rgba(0, 0, 0, 0.8);\n  position: fixed;\n  top: 20vh;\n  left: 20%;\n  z-index: 100;\n  @media (min-width: 768px) {\n    width: 25rem;\n    left: calc((100% - 25rem) / 2);\n  }\n"]);return G=function(){return e},e}var K=b.default.div(G()),W=b.default.header(V()),Y=b.default.h1(M()),Q=b.default.section(U()),X=b.default.section(J()),Z=b.default.button(P()),ee=function(e){return a.a.createElement(K,null,a.a.createElement(W,null,a.a.createElement(Y,null,e.title)),a.a.createElement(Q,null,e.children),a.a.createElement(X,null,e.canCancel&&a.a.createElement(Z,{onClick:e.onCancel},"Cancel"),e.canConfirm&&a.a.createElement(Z,{onClick:e.onConfirm},e.confirmText)))};function te(){var e=Object(v.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100vh;\n  width: 100%;\n  background: rgba(0, 0, 0, 0.8);\n"]);return te=function(){return e},e}var ne=b.default.div(te()),re=function(e){return a.a.createElement(ne,null)};function ae(){var e=Object(v.a)(["\n  display: flex;\n  align-items: center;\n"]);return ae=function(){return e},e}function oe(){var e=Object(v.a)(["\n  background-color: rgba(46, 44, 44, 0.8);\n  font: inherit;\n  border: 1px solid rgba(46, 44, 44, 0.8);\n  border-radius: 3px;\n  padding: 0.25rem 1rem;\n  margin-right: 1rem;\n  box-shadow: 0px 1px 5px 2px rgba(0, 0, 0, 0.8);\n  color: white;\n  cursor: pointer;\n  &:hover,\n  &:active {\n    background-color: gray;\n    border-color: gray;\n  }\n  &:focus {\n    outline: none;\n  }\n"]);return oe=function(){return e},e}function ie(){var e=Object(v.a)(["\n  margin: 0 1rem;\n"]);return ie=function(){return e},e}function le(){var e=Object(v.a)(["\n  margin: 0;\n  font-size: 0.7rem;\n  color: #7c7c7c;\n"]);return le=function(){return e},e}function ce(){var e=Object(v.a)(["\n  margin-bottom: 0.3rem;\n  font-size: 1.2rem;\n  color: white;\n"]);return ce=function(){return e},e}function ue(){var e=Object(v.a)(["\n  margin: 0.5rem 0;\n  padding: 0.5rem;\n  border: 1px solid rgba(46, 44, 44, 0.8);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]);return ue=function(){return e},e}var se=Object(b.default)(m.b)(ue()),de=b.default.h1(ce()),me=b.default.h2(le()),fe=b.default.p(ie()),pe=b.default.button(oe()),he=b.default.div(ae()),ge=function(e){return a.a.createElement(se,{to:"/events/".concat(e.eventId),key:e.eventId},a.a.createElement("div",null,a.a.createElement(de,null,e.title),a.a.createElement(me,null,"$",e.price," - ",new Date(e.date).toLocaleDateString())),a.a.createElement("div",null,e.userId===e.creatorId?a.a.createElement(he,null,a.a.createElement(fe,null,"Your the owner of this event."),a.a.createElement(pe,{onClick:function(t){t.preventDefault(),e.onDelete(e.eventId)}},"Delete")):a.a.createElement(pe,{onClick:function(t){t.preventDefault(),e.onDetail(e.eventId)}},"View Detail")))};function ve(){var e=Object(v.a)(["\n  width: 40rem;\n  max-width: 90%;\n  margin: 2rem auto;\n  list-style: none;\n  padding: 0;\n"]);return ve=function(){return e},e}var be=b.default.ul(ve()),Ee=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.events.map((function(t){return a.a.createElement(ge,{eventId:t._id,title:t.title,key:t._id,userId:e.props.authUserId,creatorId:t.creator._id,price:t.price,date:t.date,onDetail:e.props.onViewDetail,onDelete:e.props.onEventDelete})}));return a.a.createElement(be,null,t)}}]),t}(r.Component);function ye(){var e=Object(v.a)(["\n  margin-bottom: 1rem;\n  font-size: 1rem;\n"]);return ye=function(){return e},e}function ke(){var e=Object(v.a)(["\n  margin-bottom: 1rem;\n  font-size: 1.25rem;\n"]);return ke=function(){return e},e}function xe(){var e=Object(v.a)(["\n  width: 100%;\n  display: block;\n"]);return xe=function(){return e},e}function Oe(){var e=Object(v.a)(["\n  width: 100%;\n  display: block;\n"]);return Oe=function(){return e},e}function je(){var e=Object(v.a)(["\n  width: 100%;\n  display: block;\n  margin-bottom: 0.5rem;\n"]);return je=function(){return e},e}function we(){var e=Object(v.a)(["\n  margin-bottom: 1rem;\n"]);return we=function(){return e},e}function Se(){var e=Object(v.a)([""]);return Se=function(){return e},e}function Ce(){var e=Object(v.a)(["\n  text-align: center;\n  border: 1px solid rgba(46, 44, 44, 0.8);\n  padding: 1rem;\n  margin: 2rem auto;\n  width: 30rem;\n  max-width: 80%;\n"]);return Ce=function(){return e},e}function De(){var e=Object(v.a)(["\n  background-color: rgba(46, 44, 44, 0.8);\n  font: inherit;\n  border: 1px solid rgba(46, 44, 44, 0.8);\n  border-radius: 3px;\n  padding: 0.25rem 1rem;\n  margin: 0.5rem;\n  box-shadow: 0px 1px 5px 2px rgba(0, 0, 0, 0.8);\n  color: white;\n  cursor: pointer;\n  &:hover,\n  &:active {\n    background-color: gray;\n    border-color: gray;\n  }\n  &:focus {\n    outline: none;\n  }\n"]);return De=function(){return e},e}var Ie=b.default.button(De()),Te=b.default.div(Ce()),Fe=b.default.form(Se()),_e=b.default.div(we()),$e=b.default.label(je()),qe=b.default.input(Oe()),Ne=b.default.textarea(xe()),He=b.default.h1(ke()),Ae=b.default.h2(ye()),Re=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={creating:!1,loading:!0,events:[],selectedEvent:null},n.isActive=!0,n.startCreateEventHandler=function(){n.setState({creating:!0})},n.modalConfirmHandler=function(){n.setState({creating:!1});var e=n.titleElRef.current.value,t=+n.priceElRef.current.value,r=n.dateElRef.current.value,a=n.descriptionElRef.current.value;if(!(0===e.trim().length||t<=0||0===r.trim().length||0===a.trim().length)){var o={query:"\n          mutation CreateEvent($title:String!, $description: String!, $price: Float!, $date: String! ){\n            createEvent(eventInput: {title: $title, description: $description, price: $price, date: $date}) {\n              _id\n              title\n              description\n              date\n              price\n            }\n          }\n        ",variables:{title:e,description:a,price:t,date:r}},i=n.context.token;fetch("https://event-graphql-mongoose.herokuapp.com/",{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json",Authorization:"Bearer "+i}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){n.setState((function(t){var r=Object(I.a)(t.events);return r.push({_id:e.data.createEvent._id,title:e.data.createEvent.title,description:e.data.createEvent.description,date:e.data.createEvent.date,price:e.data.createEvent.price,creator:{_id:n.context.userId}}),{events:r}}))})).catch((function(e){console.log(e)}))}},n.modalCancelHandler=function(){n.setState({creating:!1,selectedEvent:null})},n.showDetailHandler=function(e){n.setState((function(t){return{selectedEvent:t.events.find((function(t){return t._id===e}))}}))},n.eventDelete=function(e){if(window.confirm("Are you sure to delete?!")){var t={query:"\n          mutation DeleteEvent($eventId: ID!) {\n            deleteEvent(eventId: $eventId) {\n              _id\n              title\n              description\n              date\n              price\n            }\n          }\n        ",variables:{eventId:e}},r=n.context.token;fetch("https://event-graphql-mongoose.herokuapp.com/",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){n.setState((function(t){return{events:Object(I.a)(t.events).filter((function(t){return t._id!==e.data.deleteEvent._id}))}}))})).catch((function(e){console.log(e)}))}},n.bookEventHandler=function(){if(n.context.token){var e={query:"\n          mutation BookEvent($id:ID!){\n            bookEvent(eventId:$id) {\n              _id\n              createdAt\n              updatedAt\n            }\n          }\n        ",variables:{id:n.state.selectedEvent._id}};fetch("https://event-graphql-mongoose.herokuapp.com/",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:"Bearer "+n.context.token}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){n.setState({selectedEvent:null})})).catch((function(e){console.log(e)}))}else n.setState({selectedEvent:null})},n.titleElRef=a.a.createRef(),n.priceElRef=a.a.createRef(),n.dateElRef=a.a.createRef(),n.descriptionElRef=a.a.createRef(),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.fetchEvents()}},{key:"fetchEvents",value:function(){var e=this;fetch("https://event-graphql-mongoose.herokuapp.com/",{method:"POST",body:JSON.stringify({query:"\n          query {\n            events {\n              _id\n              title\n              description\n              date\n              price\n              creator {\n                _id\n                email\n              }\n            }\n          }\n        "}),headers:{"Content-Type":"application/json"}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(t){var n=t.data.events;e.isActive&&e.setState({events:n,loading:!1})})).catch((function(t){console.log(t),e.isActive&&e.setState({loading:!1})}))}},{key:"componentWillUnmount",value:function(){this.isActive=!1}},{key:"render",value:function(){return a.a.createElement(r.Fragment,null,this.state.creating&&a.a.createElement(re,null),this.state.creating&&a.a.createElement(ee,{title:"Add Event",canCancel:!0,canConfirm:!0,onCancel:this.modalCancelHandler,onConfirm:this.modalConfirmHandler,confirmText:"Confirm"},a.a.createElement(Fe,null,a.a.createElement(_e,null,a.a.createElement($e,{htmlFor:"title"},"Title"),a.a.createElement(qe,{type:"title",ref:this.titleElRef})),a.a.createElement(_e,null,a.a.createElement($e,{htmlFor:"price"},"Price"),a.a.createElement(qe,{type:"number",ref:this.priceElRef})),a.a.createElement(_e,null,a.a.createElement($e,{htmlFor:"date"},"Date"),a.a.createElement(qe,{type:"datetime-local",ref:this.dateElRef})),a.a.createElement(_e,null,a.a.createElement($e,{htmlFor:"description"},"Description"),a.a.createElement(Ne,{id:"description",rows:"4",ref:this.descriptionElRef})))),this.state.selectedEvent&&a.a.createElement(re,null),this.state.selectedEvent&&a.a.createElement(ee,{title:this.state.selectedEvent.title,canCancel:!0,canConfirm:!0,onCancel:this.modalCancelHandler,onConfirm:this.bookEventHandler,confirmText:this.context.token?"Book":"Confirm"},a.a.createElement(He,null,this.state.selectedEvent.title),a.a.createElement(Ae,null,"$",this.state.selectedEvent.price," -"," ",new Date(this.state.selectedEvent.date).toLocaleDateString()),a.a.createElement("p",null,this.state.selectedEvent.description)),this.context.token&&a.a.createElement(Te,null,a.a.createElement("p",null,"Share your own Events!"),a.a.createElement(Ie,{onClick:this.startCreateEventHandler},"Create Event")),this.state.loading?a.a.createElement(k,null):a.a.createElement(Ee,{events:this.state.events,authUserId:this.context.userId,onViewDetail:this.showDetailHandler,onEventDelete:this.eventDelete}))}}]),t}(r.Component);Re.contextType=p;var Le=Re,ze=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).fetchData=function(){n.setState({loading:!0});var e=n.props.match.params.id,t={query:'\n    query {\n      event(eventId:"'.concat(e,'") {\n        title\n        description\n        date\n        price\n        creator {\n          _id\n          email\n        }\n      }\n    }\n    ')};fetch("https://event-graphql-mongoose.herokuapp.com/",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){var t=e.data.event;n.setState({title:t.title,description:t.description,date:t.date,price:t.price,loading:!1})})).catch((function(e){console.log(e),n.setState({loading:!1})}))},n.state={title:null,description:null,date:null,price:null,loading:!1},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){return a.a.createElement(r.Fragment,null,this.state.loading?a.a.createElement(k,null):a.a.createElement(r.Fragment,null,a.a.createElement("h1",null,this.state.title),a.a.createElement("p",null,this.state.description),a.a.createElement("p",null,new Date(this.state.date).toLocaleDateString()),a.a.createElement("p",null,"$",this.state.price)))}}]),t}(a.a.Component);n(59);function Be(){var e=Object(v.a)(["\n  height: 2.5rem;\n  align-items: center;\n  justify-content: center;\n  text-decoration: none;\n  color: white;\n  border: none;\n  font: inherit;\n  background: transparent;\n  cursor: point;\n"]);return Be=function(){return e},e}function Pe(){var e=Object(v.a)(["\n  margin-left: 2.5rem;\n"]);return Pe=function(){return e},e}function Je(){var e=Object(v.a)(["\n  height: 2.5rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return Je=function(){return e},e}function Ue(){var e=Object(v.a)(["\n  width: 80px;\n  height: 2.5rem;\n  text-align: center;\n  border-bottom: 3px solid ",";\n  transition: border-bottom 0.5s ease-in-out;\n  &:hover {\n    background-color: gray;\n  }\n"]);return Ue=function(){return e},e}function Me(){var e=Object(v.a)(["\n  display: flex;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n"]);return Me=function(){return e},e}function Ve(){var e=Object(v.a)(["\n  margin: 0;\n  font-size: 1.3rem;\n"]);return Ve=function(){return e},e}function Ge(){var e=Object(v.a)(["\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 2.5rem;\n  background-color: rgba(20, 20, 20, 0.8);\n  z-index: 10;\n  box-shadow: 0px 1px 5px 2px rgba(0, 0, 0, 0.8);\n  padding: 0 1rem;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  color: white;\n"]);return Ge=function(){return e},e}var Ke=b.default.header(Ge()),We=b.default.h1(Ve()),Ye=b.default.ul(Me()),Qe=b.default.li(Ue(),(function(e){return e.current?"gray":"transparent"})),Xe=Object(b.default)(m.c)(Je()),Ze=b.default.nav(Pe()),et=b.default.button(Be()),tt=Object(f.g)((function(e){var t=e.location.pathname;return a.a.createElement(p.Consumer,null,(function(e){return a.a.createElement(Ke,{className:"main-navigation"},a.a.createElement("div",{className:"main-navigation__logo"},a.a.createElement(We,null,"DK's Event")),a.a.createElement(Ze,{className:"main-navigation__items"},a.a.createElement(Ye,null,!e.token&&a.a.createElement(Qe,{current:"/auth"===t},a.a.createElement(Xe,{to:"/auth"},"Authenticate")),a.a.createElement(Qe,{current:"/events"===t},a.a.createElement(Xe,{to:"/events"},"Events")),e.token&&a.a.createElement(r.Fragment,null,a.a.createElement(Qe,{current:"/bookings"===t},a.a.createElement(Xe,{to:"/bookings"},"Bookings")),a.a.createElement(Qe,null,a.a.createElement(et,{onClick:e.logout},"Logout"))))))}))})),nt=n(31),rt=n.n(nt);function at(){var e=Object(v.a)(["\n    ",";\n    a{\n        text-decoration:none;\n        color:inherit;\n    }\n    *{\n        box-sizing:border-box;\n    }\n    body{\n        font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n        font-size:12px;\n        background-color:rgba(20, 20, 20, 1);\n        color:white;\n        padding-top:10px;\n    }\n"]);return at=function(){return e},e}var ot=Object(b.createGlobalStyle)(at(),rt.a),it=n(20),lt=n.n(it),ct=(n(60),function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).state={token:null,userId:null},n.login=function(e,t,r){var a=r/24;lt.a.set("login",{token:e,userId:t},{expires:a}),n.setState({token:e,userId:t})},n.logout=function(){lt.a.remove("login"),n.setState({token:null,userId:null})},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.storeUserInfo()}},{key:"storeUserInfo",value:function(){var e=lt.a.getJSON("login");e&&this.setState({token:e.token,userId:e.userId})}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(m.a,null,a.a.createElement(r.Fragment,null,a.a.createElement(p.Provider,{value:{token:this.state.token,userId:this.state.userId,login:this.login,logout:this.logout}},a.a.createElement(tt,null),a.a.createElement("main",{className:"main-content"},a.a.createElement(f.d,null,this.state.token&&a.a.createElement(f.a,{from:"/",to:"/events",exact:!0}),this.state.token&&a.a.createElement(f.a,{from:"/auth",to:"/events",exact:!0}),!this.state.token&&a.a.createElement(f.b,{path:"/auth",component:g}),a.a.createElement(f.b,{path:"/events/:id",component:ze}),a.a.createElement(f.b,{path:"/events",component:Le}),this.state.token&&a.a.createElement(f.b,{path:"/bookings",component:B}),!this.state.token&&a.a.createElement(f.a,{to:"/auth",exact:!0}),a.a.createElement(f.a,{from:"*",to:"/"})))))),a.a.createElement(ot,null))}}]),t}(r.Component));i.a.render(a.a.createElement(ct,null),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.ff9088cf.chunk.js.map